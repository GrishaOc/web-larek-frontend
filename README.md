# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Приложение реализовано по MVP архитектуре и состоит из компонентов 

### MVP - Этот паттерн разделяет приложение на три части: model, view и presenter. Модель содержит данные, представление отображает данные, а презентер обрабатывает взаимодействие между моделью и представлением.

В приложении используется событийно-ориентированный подход. В качестве инструмента, который обеспечивает данных подход, выступает EventEmitter.
## Типы данных

### interface ICards - Интерфейс описывающий карточки товара  
- `id: string` - идентификатор товара в магазине 
- `title: string` - название товара 
- `image: string` -  адрес картинки товара
- `description: string` - описание товара 
- `selected: boolean` - продукт добавлен 
- `category: string` - категория товара 
- `price: number | null` - цена товара 

### interface IOrder - Интерфейс описывающий информацию о заказе  
- `payment:string` - способ оплаты  
- `total:number` - сумма заказа 
- `address:string` - адрес доставки  
- `phone:string` - телефон покупателя 
- `email:string` - почта покупателя
- `items:string[]` - массив идентификаторов купленных товаров 

### interface IDeliveryForm - Интерфейс описывающий  форму доставки 
- `payment:string` - способ оплаты  
- `address:string` - адрес доставки

### interface IContacntForm - Интерфейс описывающий контакты покупателя  
- `email:string` - почта покупателя  
- `phone:string` - телефон покупателя 
 
### interface IPage - Интерфейс описывающий страницу  
- `counter:number` - счетчик товаров в корзине  
- `catalog:HTMLElement[]` - массив карточек товаров
- `locked:boolean` - блокировка скрола

### interface IStatusApi - Интерфейс описывающий статус приложения  
- `catalog:ICards[]` - каталог товаров 
- `order:IOrder|null` - заказ
- `basket:ICards[]` - корзина 
- `setCatalog(items: ICards[]): void` - устанавливаем каталог товаров 
- `addToBasket(product:ICards): void` - добавление в корзину  
- `removeBasket(product: ICards): void` - удаление из корзины 
- `getResultBasket(): number` - получение итоговой суммы 

### interface IValid - Интерфейс использующийся для валидации полей при оформлении заказа 
- `phone:string` - телефон покупателя 
- `email:string` - почта покупателя 
- `address:string` - адрес доставки 
- `payment:string` - способ оплаты 

### interface ISuccessForm - Интерфейс описывающий форму успешной покупки 
- `description:number` - количество списанных средств 
 
### interface ISuccessfulOrder - Интерфейс описывающий успешную покупку 
- `id:string` - айди заказа 
- `total:number` - сумма заказа 

## Базовый код 

### class Api - класс содержащий базовую логику отправки запроса. В конструкторе передается базовый адрес сервера и опциональный обьтект с запросами 
 
#### Конструктор class Api 
 
- constructor(baseUrl: string, options: RequestInit = {}) 
 
#### Методы class Api 
 
- `get` - получение данных 
- `post` - отправка данных 
- `handleResponse` - обрабатывает ответ с сервера 
 
### class EventEmitter - реализуются паттерн "Observer" , что позволяет подписываться на все события и уведомлять подписчиков о наступление события  
 
#### Конструктор class EventEmitter - включающий события 
 
- constructor() {this._events = new Map<EventName, Set<Subscriber>>();} 
 
#### Методы class EventEmitter 
 
- `on` - Установить обработчик на событие 
- `off` - Снять обработчик с события 
- `emit` - Инициировать событие с данными 
- `onAll` - Слушать все события 
- `offAll` - Сбросить все обработчики 

### class Model - Базовый класс, предназначенный для создания моделей данных, предназначенных для управления данными приложения

#### Методы class Model 
- `emitChanges` - дает всем подписчикам сообщение о изменение модели

### class Component - Класс для отрисовки пользовательского интерфейся,а также обеспечивающий инструментарий для работы с DOM-элементами в дочерних компонентах

- `toggleClass` - Переключатель классов
- `setText` - Устанавливает текстовое содержимое для компонента 
- `setImage` - Устанавливает изоброжение
- `setDisabled` - Меняет статус блокировки
- `setHidden` - Скрывает компонент 
- `setVisible` - Делает видимим компонент
- `render` - возвращает корневой DOM-элемент

## Компоненты View - модель отображения
### class ContactsForm - класс отображает форму ввода контактов для заказа,наследуется от Component

### class Card - класс который используется для отрисовки карточек,наследуется от Component 

### class Page - класс который добовляет ленту карточек и вешает слушатель на элемент корзину,наследуется от Component

### class Basket - класс который оторбражает корзину и входящие в него товары,наследуется от Component

### class DeliveryForm - класс который отображает форму ввода и выбора способа доставки при оформление заказа,наследуется от Component

### class Modal - класс который отображает модальное окно,наследуется от Component

### class success - класс который отображает успешный заказ,наследуется от Component

### class WeblarekAPI - Класс взаимодействия с конкретным API-сервером,наследуется от Api

### class Form - Класс который отображает базовую форму

## Компоненты Model

### class StatusApp - Класс который хранит состояние приложение

## Компоненты Presenter - реализуется в index.ts